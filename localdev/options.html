---
layout: default
title: Hiera Options
---

<p>Hiera allows settings to be changed for a variety of services within the virtual machine. These changes
may be made to any of the YAML files that contain configuration, though some configuration options may exist
in the host or platform configuration that would need to be overridden in the host configuration.</p>

<h2><a id="general"></a>General</h2>

<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::ports</td>
      <td>Ports that are opened in the firewall</td>
      <td>
        <ul>
          <li>80</li>
          <li>443</li>
          <li>1080</li>
          <li>8080</li>
          <li>8081</li>
          <li>18983</li>
          <li>8983</li>
          <li>3306</li>
          <li>13306</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>classes</td>
      <td>Puppet classes applied to the VM; used to add additional classes from Puppetforge, etc.</td>
      <td>
        <ul>
          <li>forumone</li>
          <li>forumone::ssh_config</li>
        </ul>
      </td> 
    </tr>
  </tbody>
</table> 

<h2><a id="php"></a>PHP</h2>

<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::php::prefix</td>
      <td>PHP version installed; note this is the package name prefix to use, e.g. [prefix]-common</td>
      <td>php54</td>
    </tr>
    <tr>
      <td>forumone::php::modules</td>
      <td>PHP modules installed</td>
      <td></td> 
    </tr>
  </tbody>
</table> 

<h2><a id="drush"></a>Drush</h2>

<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::drush::version</td>
      <td>Version of Drush installed</td>
      <td>7.x-5.9</td>
    </tr>
  </tbody>
</table> 

<h2><a id="database"></a>Database</h2>

<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::database::server</td>
      <td>Whether the database component is installled as a server</td>
      <td>true</td>
    </tr>
    <tr>
      <td>forumone::database::version</td>
      <td>Version of Percona installed</td>
      <td>5.5</td>
    </tr>
    <tr>
      <td>forumone::database::manage_repo</td>
      <td>Whether the Percona repository configuration is controlled by Puppet</td>
      <td>true</td>
    </tr>
    <tr>
      <td>forumone::database::configuration</td>
      <td>Configuration included in my.cnf</td>
      <td>
        <ul>
          <li>mysqld/log_bin: absent</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table> 

<h2><a id="webserver"></a>Web Server</h2>

<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::webserver::webserver</td>
      <td>Which web server installed, apache or nginx</td>
      <td>nginx</td>
    </tr>
    <tr>
      <td>forumone::webserver::port</td>
      <td>Port that the web server is listening on</td>
      <td>8080</td>
    </tr>
  </tbody>
</table> 

<h3><a id="apache"></a>Apache</h3>
<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::webserver::apache_startservers</td>
      <td>Number of servers to start</td>
      <td>8</td>
    </tr>
    <tr>
      <td>forumone::webserver::apache_minspareservers</td>
      <td>Minimum number of spare servers</td>
      <td>5</td>
    </tr>
    <tr>
      <td>forumone::webserver::apache_maxspareservers</td>
      <td>Maximum number of spare servers</td>
      <td>16</td>
    </tr>
    <tr>
      <td>forumone::webserver::apache_maxclients</td>
      <td>Maximum number of clients</td>
      <td>16</td>
    </tr>
    <tr>
      <td>forumone::webserver::apache_maxrequestsperchild</td>
      <td>Maximum number of requests per child</td>
      <td>200</td>
    </tr>
  </tbody>
</table> 

<h3><a id="nginx"></a>Nginx</h3>
<table class="hiera">
  <thead>
    <tr>
      <th class="hiera-variable">Variable</th>
      <th class="hiera-description">Description</th>
      <th class="hiera-default">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>forumone::webserver::nginx_conf</td>
      <td>Nginx configuration</td>
      <td>
        <ul>
          <li>client_max_body_size 200m</li>
          <li>client_body_buffer_size 2m</li>
          <li>set_real_ip_from 127.0.0.1</li>
          <li>real_ip_header X-Forwarded-For</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>forumone::webserver::nginx_worker_processes</td>
      <td>Number of worker processes</td>
      <td>1</td>
    </tr>
    <tr>
      <td>forumone::webserver::php_fpm_listen</td>
      <td>Path to PHP-FPM socket</td>
      <td>/var/run/php-fpm.sock</td>
    </tr>
  </tbody>
</table>